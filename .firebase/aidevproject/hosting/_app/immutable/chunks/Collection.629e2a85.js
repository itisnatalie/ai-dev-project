import{s as P,v as B,h as F,e as C,u as W,g as S,f as j}from"./scheduler.0355249e.js";import{S as A,i as I,d as m,v as N,e as g,a as O,r as q,t as _,b as z,f as d,g as D}from"./index.0bee43c3.js";import{w as b}from"./index.48e1a440.js";import{_ as T,I as G,a as w}from"./index.esm2017.1d548bfd.js";function k(n,e,s=[]){let o;if(!globalThis.window){const{subscribe:t}=b(s);return{subscribe:t,ref:null}}if(!n){console.warn("Firestore is not initialized. Are you missing FirebaseApp as a parent component?");const{subscribe:t}=b([]);return{subscribe:t,ref:null}}const u=typeof e=="string"?T(n,e):e,{subscribe:r}=b(s,t=>(o=G(u,c=>{const f=c.docs.map(l=>({id:l.id,ref:l.ref,...l.data()}));t(f)}),()=>o()));return{subscribe:r,ref:u}}const H=n=>({}),v=n=>({}),J=n=>({data:n&1,count:n&1}),y=n=>{var e;return{data:n[0],ref:n[2].ref,count:((e=n[0])==null?void 0:e.length)??0,firestore:n[1]}};function E(n){let e;const s=n[6].loading,o=C(s,n,n[5],v),u={c:function(){o&&o.c()},l:function(t){o&&o.l(t)},m:function(t,c){o&&o.m(t,c),e=!0},p:function(t,c){o&&o.p&&(!e||c&32)&&W(o,s,t,t[5],e?j(s,t[5],c,H):S(t[5]),v)},i:function(t){e||(d(o,t),e=!0)},o:function(t){_(o,t),e=!1},d:function(t){o&&o.d(t)}};return m("SvelteRegisterBlock",{block:u,id:E.name,type:"else",source:"(11:0) {:else}",ctx:n}),u}function R(n){let e;const s=n[6].default,o=C(s,n,n[5],y),u={c:function(){o&&o.c()},l:function(t){o&&o.l(t)},m:function(t,c){o&&o.m(t,c),e=!0},p:function(t,c){o&&o.p&&(!e||c&33)&&W(o,s,t,t[5],e?j(s,t[5],c,J):S(t[5]),y)},i:function(t){e||(d(o,t),e=!0)},o:function(t){_(o,t),e=!1},d:function(t){o&&o.d(t)}};return m("SvelteRegisterBlock",{block:u,id:R.name,type:"if",source:"(9:0) {#if $store !== undefined}",ctx:n}),u}function p(n){let e,s,o,u;const r=[R,E],t=[];function c(l,a){return l[0]!==void 0?0:1}e=c(n),s=t[e]=r[e](n);const f={c:function(){s.c(),o=g()},l:function(a){s.l(a),o=g()},m:function(a,i){t[e].m(a,i),O(a,o,i),u=!0},p:function(a,[i]){let h=e;e=c(a),e===h?t[e].p(a,i):(q(),_(t[h],1,1,()=>{t[h]=null}),z(),s=t[e],s?s.p(a,i):(s=t[e]=r[e](a),s.c()),d(s,1),s.m(o.parentNode,o))},i:function(a){u||(d(s),u=!0)},o:function(a){_(s),u=!1},d:function(a){a&&D(o),t[e].d(a)}};return m("SvelteRegisterBlock",{block:f,id:p.name,type:"component",source:"",ctx:n}),f}function K(n,e,s){let o,{$$slots:u={},$$scope:r}=e;N("Collection",u,["default","loading"]);let{ref:t}=e,{startWith:c=void 0}=e;const{firestore:f}=w();let l=k(f,t,c);B(l,"store"),F(n,l,i=>s(0,o=i)),n.$$.on_mount.push(function(){t===void 0&&!("ref"in e||n.$$.bound[n.$$.props.ref])&&console.warn("<Collection> was created without expected prop 'ref'")});const a=["ref","startWith"];return Object.keys(e).forEach(i=>{!~a.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Collection> was created with unknown prop '${i}'`)}),n.$$set=i=>{"ref"in i&&s(3,t=i.ref),"startWith"in i&&s(4,c=i.startWith),"$$scope"in i&&s(5,r=i.$$scope)},n.$capture_state=()=>({collectionStore:k,getFirebaseContext:w,ref:t,startWith:c,firestore:f,store:l,$store:o}),n.$inject_state=i=>{"ref"in i&&s(3,t=i.ref),"startWith"in i&&s(4,c=i.startWith),"store"in i&&s(2,l=i.store)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[o,f,l,t,c,r,u]}class V extends A{constructor(e){super(e),I(this,e,K,p,P,{ref:3,startWith:4}),m("SvelteRegisterComponent",{component:this,tagName:"Collection",options:e,id:p.name})}get ref(){throw new Error("<Collection>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ref(e){throw new Error("<Collection>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get startWith(){throw new Error("<Collection>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set startWith(e){throw new Error("<Collection>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{V as C};
